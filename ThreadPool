/* Thread pool is a pool of service workers pool that is provided by the Executor Services
whenever a thread is needed the TS pulls a thread from the pool and assigns it to the thread
pool and gets released whenever the work is done. The worker thread then returns to the pool
for new assignment.
*/


import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class ThreadPool {
    public class myWorkerThread extends Thread{
        private String message;

        myWorkerThread(String message){
            this.message = message;
        }

        public void run(){
            System.out.println(Thread.currentThread().getName() + " " + message + 
             " Start");
             System.out.println(Thread.currentThread().getName() + 
             " End");
        }
    }

    public static void main(String[] args){
        ThreadPool tp = new ThreadPool();
        ExecutorService executor = Executors.newFixedThreadPool(5);//creating a pool of 5 threads 
        for(int i = 1; i < 10; i++){
            Thread worker = tp.new myWorkerThread(" " + i);
            executor.execute(worker);
        }
        executor.shutdown();
        while(!executor.isTerminated()){};
        System.out.println("Finished all Threads");
    }
    
}
